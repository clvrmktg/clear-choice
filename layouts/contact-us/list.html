{{- define "variables" -}}
{{- .Store.Set "hasTwic" true -}}
{{- .Store.Set "hasObscure" true -}}
{{- .Store.Set "hasBouncer" true -}}
{{- end -}}
{{- define "main" -}}
<!-- Hero with Map -->
{{ partial "hero.html" . }}

<!-- Intro -->
{{/* 
  <section class="intro">
    <div class="content-grid">
      <p>{{ .Params.intro }}</p>
    </div>
  </section>
   */}}
<div class="[ layout--sidebar--right ][ grid gap--2 layout--padding--bottom ]">

  <div>
    {{- .Content -}}

    <form id="contact" class="[ grid gap--1 ]" name="contact" action="/thank-you/" method="POST" data-netlify="true" netlify-honeypot="bot-field" data-netlify-recaptcha="true" data-validate>
      <input type="hidden" name="form-name" value="contact" />

      <div class="hidden">
        <label>
          Don't fill this out if you're human: <input name="bot-field" />
        </label>
      </div>
      <div class="[ form__field ][ grid row-gap--0.5 ]">
        <label class="[ form__label ][ font--500 font--600 ]" for="name">Name <abbr class="[ required ]" title="This field is required" aria-label="This field is required">*</abbr></label>
        <input class="[ form__input ][ p--0.5 ]" name="name" id="name" type="text" placeholder="Your Name" required minlength="2" maxlength="50"/>
      </div>
      <div class="[ form__field ][ grid row-gap--0.5 ]">
        <label class="[ form__label ][ font--500 font--600 ]" for="email">Email <abbr class="[ required ]" title="This field is required" aria-label="This field is required">*</abbr></label>
        <input class="[ form__input ][ p--0.5 ]" name="email" id="email" type="email" placeholder="your@email.com" required/>
      </div>
      <div class="[ form__field ][ grid row-gap--0.5 ]">
        <label class="[ form__label ][ font--500 font--600 ]" for="inquiry">What can we help you with?</label>
        <div class="[ select-wrapper ]">
          <select class="[ form__input ][ p--0.5 ]" id="inquiry" name="inquiry">
            <option value="">Please select...</option>
            <option value="general-inquiry">General Inquiry</option>
            <option value="quote-hurricane-windows">Hurricane Windows</option>
            <option value="quote-impact-doors">Impact Doors</option>
            <option value="quote-custom-glass-mirrors">Custom Glass &amp; Mirrors</option>
            <option value="quote-shower-enclosures">Shower Enclosures</option>
            <option value="quote-storefronts">Storefronts</option>
          </select>
        </div>
      </div>
      <div class="[ form__field ][ grid row-gap--0.5 ]">
        <label class="[ form__label ][ font--500 font--600 ]" for="message">Message <abbr class="[ required ]" title="This field is required" aria-label="This field is required">*</abbr></label>
        <textarea class="[ form__message ][ p--0.5 ]" name="message" id="message" placeholder="Write us a message â€” for quotes, include measurements, location, and other helpful details." required maxlength="3000"></textarea>
      </div>
      <div data-netlify-recaptcha="true"></div>
      <div class="[ flex end ]">
        <button type="submit" class="[ btn btn--lg cc--primary ]">Send</button>
      </div>
    </form>
  </div>
  <aside class="[ sidebar ]">
    <div class="[ grid gap--2 ]">
      <address>
        <span>Clear Choice</span>
        <br>
        <span>Shirley Street</span>
        <br>
        <span>Nassau, <abbr title="New Providence" aria-label="New Providence">NP</abbr></span>
        <br>
        <span>Bahamas</span>
      </address>
      <div class="[ grid row-gap--1 ]">
        {{/*  <template obscure="obscure" data-p1="info" data-p2="clear-choiceglass.com">
          <span><a href="+mailto:%1%@2%">%1@%2</a></span>
        </template>  */}}
        <template obscure="obscure" data-p1="+1" data-p2="242" data-p3="322" data-p4="6724">
          <span><a href="tel:%1%2%3%4">(%2) %3-%4</a></span>
        </template>
      </div>
      <ul class="[ social ][ flex middle gap--1 ]">
        <li class="[ social__item ]">
          <a class="[ social__link ]" href="https://www.facebook.com/profile.php?id=61575457025109" target="_blank" rel="noopener" data-prefetch>
            {{- readFile "static/icons/facebook.svg" | safeHTML }}
          </a>
        </li>
        <li class="[ social__item ]">
          <a class="[ social__link ]" href="https://www.bahamaslocal.com/listing_email/22727/Clear_Choice_Glass.html" target="_blank" rel="noopener" data-prefetch>
            {{- readFile "static/icons/bahamas-local.svg" | safeHTML }}
          </a>
        </li>
      </ul>
    </div>
  </aside>
</div>

{{ with .Site.Params.map }}
{{ if and .api .lat .lng .zoom }}
  <div id="map" class="[ ratio--16-9 ]"></div>

  <script>
  function initMap() {
    const location = { lat: {{ .lat }}, lng: {{ .lng }} };

    const map = new google.maps.Map(document.getElementById("map"), {
      center: location,
      zoom: {{ .zoom }},

      // Disable all default UI controls
      disableDefaultUI: true,
      styles: [
        {
          elementType: "geometry",
          stylers: [{ color: "#f5f5f5" }] // Light neutral land
        },
        {
          elementType: "labels.icon",
          stylers: [{ visibility: "off" }]
        },
        {
          elementType: "labels.text.fill",
          stylers: [{ color: "#616161" }]
        },
        {
          elementType: "labels.text.stroke",
          stylers: [{ color: "#f5f5f5" }]
        },
        {
          featureType: "administrative.land_parcel",
          elementType: "labels.text.fill",
          stylers: [{ color: "#bdbdbd" }]
        },
        {
          featureType: "poi",
          elementType: "geometry",
          stylers: [{ color: "#eeeeee" }]
        },
        {
          featureType: "poi",
          elementType: "labels.text.fill",
          stylers: [{ color: "#757575" }]
        },
        {
          featureType: "road",
          elementType: "geometry",
          stylers: [{ color: "#ffffff" }]
        },
        {
          featureType: "road.arterial",
          elementType: "labels.text.fill",
          stylers: [{ color: "#757575" }]
        },
        {
          featureType: "road.highway",
          elementType: "geometry",
          stylers: [{ color: "#dadada" }]
        },
        {
          featureType: "road.highway",
          elementType: "labels.text.fill",
          stylers: [{ color: "#616161" }]
        },
        {
          featureType: "road.local",
          elementType: "labels.text.fill",
          stylers: [{ color: "#9e9e9e" }]
        },
        {
          featureType: "transit.line",
          elementType: "geometry",
          stylers: [{ color: "#e5e5e5" }]
        },
        {
          featureType: "transit.station",
          elementType: "geometry",
          stylers: [{ color: "#eeeeee" }]
        },
        {
          featureType: "water",
          elementType: "geometry",
          stylers: [{ color: "#1f859c" }] // Clear Choice teal
        },
        {
          featureType: "water",
          elementType: "labels.text.fill",
          stylers: [{ color: "#ffffff" }]
        }
      ],

      // Or disable individually:
      zoomControl: false,
      streetViewControl: false,
      fullscreenControl: false,
      mapTypeControl: false


    });

    new google.maps.Marker({
      position: location,
      map: map
    });
  }
  </script>

  <script async
    src="https://maps.googleapis.com/maps/api/js?key={{ .api }}&callback=initMap">
  </script>
{{ end }}
{{ end }}
{{- end -}}